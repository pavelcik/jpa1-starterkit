-------------------------------------------------------------------------------
Test set: com.capgemini.service.DivisionServiceTest
-------------------------------------------------------------------------------
Tests run: 8, Failures: 1, Errors: 1, Skipped: 0, Time elapsed: 0.535 sec <<< FAILURE! - in com.capgemini.service.DivisionServiceTest
shouldDeleteWorkersInDivision(com.capgemini.service.DivisionServiceTest)  Time elapsed: 0.078 sec  <<< FAILURE!
java.lang.AssertionError: expected:<3> but was:<2>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:834)
	at org.junit.Assert.assertEquals(Assert.java:645)
	at org.junit.Assert.assertEquals(Assert.java:631)
	at com.capgemini.service.DivisionServiceTest.shouldDeleteWorkersInDivision(DivisionServiceTest.java:116)

shouldDeleteDivision(com.capgemini.service.DivisionServiceTest)  Time elapsed: 0.029 sec  <<< ERROR!
org.springframework.dao.InvalidDataAccessApiUsageException: Removing a detached instance com.capgemini.domain.DivisionEntity#1; nested exception is java.lang.IllegalArgumentException: Removing a detached instance com.capgemini.domain.DivisionEntity#1
	at org.hibernate.jpa.event.internal.core.JpaDeleteEventListener.performDetachedEntityDeletionCheck(JpaDeleteEventListener.java:52)
	at org.hibernate.event.internal.DefaultDeleteEventListener.onDelete(DefaultDeleteEventListener.java:89)
	at org.hibernate.event.internal.DefaultDeleteEventListener.onDelete(DefaultDeleteEventListener.java:56)
	at org.hibernate.internal.SessionImpl.fireDelete(SessionImpl.java:921)
	at org.hibernate.internal.SessionImpl.delete(SessionImpl.java:860)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.remove(AbstractEntityManagerImpl.java:1179)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:298)
	at com.sun.proxy.$Proxy82.remove(Unknown Source)
	at com.capgemini.dao.impl.DivisionDaoImpl.delete(DivisionDaoImpl.java:79)
	at com.capgemini.dao.impl.DivisionDaoImpl$$FastClassBySpringCGLIB$$d41c1767.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)
	at com.capgemini.dao.impl.DivisionDaoImpl$$EnhancerBySpringCGLIB$$2b722005.delete(<generated>)
	at com.capgemini.service.impl.DivisionServiceImpl.delete(DivisionServiceImpl.java:53)
	at com.capgemini.service.impl.DivisionServiceImpl$$FastClassBySpringCGLIB$$f6898ec7.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:280)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)
	at com.capgemini.service.impl.DivisionServiceImpl$$EnhancerBySpringCGLIB$$ddf4138.delete(<generated>)
	at com.capgemini.service.DivisionServiceTest.shouldDeleteDivision(DivisionServiceTest.java:52)

